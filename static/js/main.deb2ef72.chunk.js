(this["webpackJsonpgithub-finder-updated"]=this["webpackJsonpgithub-finder-updated"]||[]).push([[0],{28:function(e,t,a){e.exports=a(38)},36:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(20),l=a.n(c),o=a(7),s=a(9),i=a(11),u=a(10),m=new s.a({link:Object(i.b)({uri:"https://api.github.com/graphql",headers:{Authorization:"token ".concat("5a5d5a17c31f627ee5ee320aefc23f62625bd663")}}),cache:new u.a}),d=a(13),E=a(26),f=a(16),p=function(e,t){switch(t.type){case"POPULATE_CARDS":return t.cards;case"ADD_CARD":return e.some((function(e){return e.id===t.card.id}))?Object(f.a)(e):[].concat(Object(f.a)(e),[t.card]);case"REMOVE_CARD":return e.filter((function(e){return e.id!==t.id}));default:return e}},b=a(25),h=a(27);function v(){var e=Object(b.a)(['{\n      search(query: "','", type: REPOSITORY, first: 5) {\n        repositoryCount\n        edges {\n          node {\n            ... on Repository {\n              id\n              name\n              forkCount\n              owner {\n                login\n                avatarUrl\n                url\n              }\n              stargazers {\n                totalCount\n              }\n              url\n              watchers {\n                totalCount\n              }\n            }\n          }\n        }\n      }\n    }\n  ']);return v=function(){return e},e}var g=r.a.createContext(),O=function(e){var t=e.repository,a=Object(n.useContext)(g).dispatch;return r.a.createElement("div",{className:"card-item"},r.a.createElement("button",{className:"button button--remove",onClick:function(){return e=t.id,void a({type:"REMOVE_CARD",id:e});var e}},"X"),r.a.createElement("a",{href:t.owner.url},r.a.createElement("div",{className:"card-item__user"},r.a.createElement("img",{src:t.owner.avatarUrl,alt:t.owner.login}),r.a.createElement("h5",{className:"list-item__title"},t.owner.login))),r.a.createElement("div",{className:"card-item__repository"},r.a.createElement("a",{href:t.url},r.a.createElement("h3",null,t.name)),r.a.createElement("h5",null,"Forks: ",t.forkCount),r.a.createElement("h5",null,"Stargazers: ",t.stargazers.totalCount),r.a.createElement("h5",null,"Watchers: ",t.watchers.totalCount)))},N=function(){var e=Object(n.useContext)(g).cards;return e.length>0&&r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"card-list-container"},r.a.createElement("h2",null,"favorite repositories"),r.a.createElement("div",{className:"card-list"},e.map((function(e,t){return r.a.createElement(O,{key:e.id,repository:e})})))))},C=function(e){var t=e.repository,a=Object(n.useContext)(g).dispatch;return r.a.createElement("div",{className:"list-item"},r.a.createElement("div",null,r.a.createElement("h3",{className:"list-item__title"},r.a.createElement("a",{href:t.node.url},t.node.name," "),r.a.createElement("span",{className:"list-item__sub-title"},"by ",t.node.owner.login)),r.a.createElement("span",{className:"list-item__sub-title"},"\u2605",t.node.stargazers.totalCount)),r.a.createElement("button",{className:"button button--secondary",onClick:function(){return e=t.node,void a({type:"ADD_CARD",card:e});var e}},"+"))},y=function(){var e=Object(n.useContext)(g).data;return r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"list-body"},e&&e.search.edges.map((function(e){return r.a.createElement(C,{key:e.node.id,repository:e})}))))},_=function(){var e=Object(n.useContext)(g).setSearchRequest,t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"search-input"},r.a.createElement("div",{className:"input-group__item"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(c),l("")}},r.a.createElement("input",{className:"text-input",type:"text",placeholder:"Search GitHub repositories",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("button",{type:"submit",value:"Search",className:"button"},"Search")))))},j=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("img",{className:"loader__image",alt:"loading-spinner",src:"images/loader.gif"}))},S=(a(36),function(){var e,t=Object(n.useReducer)(p,[]),a=Object(d.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),i=s[0],u=s[1],m=(e=i,Object(h.a)(v(),e)),f=Object(E.a)(m,{skip:!i}),b=f.loading,O=f.error,C=f.data;return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("cards"));e&&l({type:"POPULATE_CARDS",cards:e})}),[]),Object(n.useEffect)((function(){localStorage.setItem("cards",JSON.stringify(c))}),[c]),r.a.createElement(g.Provider,{value:{cards:c,dispatch:l,setSearchRequest:u,data:C}},r.a.createElement("div",null,r.a.createElement(_,null),b?r.a.createElement(j,null):r.a.createElement(y,null),O&&r.a.createElement("p",null,"Error :("),r.a.createElement(N,null)))});l.a.render(r.a.createElement(o.a,{client:m},r.a.createElement(S,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.deb2ef72.chunk.js.map